#!/usr/bin/env python

import argparse
import logging
from rememberthematch import RememberTheMatch



def get_parser():
    parser = argparse.ArgumentParser(description='Never forget about the match you want to watch again!')
    parser.add_argument('--username', '-u', dest='username', action='store', required=True, help='Todoist username')
    parser.add_argument('--password', '-p', dest='password', action='store', required=True, help='Todoist password')
    parser.add_argument('--project', '-pr', dest='project', action='store', default="Inbox", help='Todoist project')
    return parser

def run():
    args = get_parser().parse_args()
    print args
    rtm = RememberTheMatch(args.username, args.password, args.project)
    rtm.run()

if __name__ == "__main__":
    logging.basicConfig(level=logging.INFO)
    run()
